<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تأكيد الحساب | Eslam_Academy</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --matrix: #00ff00; --card-bg: rgba(10, 10, 10, 0.95); }
        body { 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
            background: #000; 
            font-family: 'Tajawal', sans-serif; 
            overflow: hidden; 
        }
        canvas#matrix { position: fixed; top: 0; left: 0; z-index: -1; }

        .verify-card { 
            background: var(--card-bg); 
            border: 1px solid var(--matrix); 
            padding: 30px 20px; 
            border-radius: 15px; 
            width: 90%; 
            max-width: 400px; 
            text-align: center; 
            z-index: 10; 
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.1);
        }

        h2 { color: var(--matrix); margin-bottom: 10px; font-weight: 900; }
        p { color: #ccc; font-size: 0.9rem; margin-bottom: 25px; line-height: 1.5; }
        #displayEmail { color: var(--matrix); font-weight: bold; word-break: break-all; }

        .code-inputs { display: flex; justify-content: center; gap: 8px; direction: ltr; margin-bottom: 30px; }
        .code-inputs input { 
            width: 45px; 
            height: 50px; 
            text-align: center; 
            font-size: 1.5rem; 
            font-weight: bold; 
            background: rgba(255,255,255,0.05); 
            border: 1px solid #333; 
            color: var(--matrix); 
            border-radius: 8px; 
            outline: none;
        }
        .code-inputs input:focus { border-color: var(--matrix); box-shadow: 0 0 10px rgba(0,255,0,0.2); }

        .btn-verify { 
            width: 100%; 
            padding: 14px; 
            background: var(--matrix); 
            color: black; 
            border: none; 
            border-radius: 8px; 
            font-weight: 900; 
            font-size: 1.1rem;
            cursor: pointer; 
            transition: 0.3s;
        }
        .btn-verify:hover { box-shadow: 0 0 20px var(--matrix); transform: scale(1.02); }

        /* تعديلات للموبايلات الصغيرة جداً */
        @media (max-width: 380px) {
            .code-inputs { gap: 5px; }
            .code-inputs input { width: 38px; height: 45px; font-size: 1.2rem; }
        }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>

    <div class="verify-card">
        <i class="fas fa-user-shield" style="font-size: 3rem; color: var(--matrix); margin-bottom: 15px;"></i>
        <h2>تأكيد الهوية</h2>
        <p>تم إرسال كود التفعيل إلى:<br><span id="displayEmail">loading...</span></p>
        
        <form onsubmit="confirmCode(event)">
            <div class="code-inputs">
                <input type="text" maxlength="1" inputmode="numeric" oninput="moveNext(this, 1)" required>
                <input type="text" maxlength="1" inputmode="numeric" oninput="moveNext(this, 2)" required>
                <input type="text" maxlength="1" inputmode="numeric" oninput="moveNext(this, 3)" required>
                <input type="text" maxlength="1" inputmode="numeric" oninput="moveNext(this, 4)" required>
                <input type="text" maxlength="1" inputmode="numeric" oninput="moveNext(this, 5)" required>
                <input type="text" maxlength="1" inputmode="numeric" oninput="moveNext(this, 6)" required>
            </div>
            <button type="submit" class="btn-verify">تأكيد الرمز</button>
        </form>
    </div>

    <script>
        // عرض الإيميل المخزن
        document.getElementById('displayEmail').innerText = localStorage.getItem('user_email') || "admin@eslam_academy.com";

        // التنقل التلقائي بين المربعات
        function moveNext(current, index) {
            if (current.value.length >= 1 && index < 6) {
                document.querySelectorAll('.code-inputs input')[index].focus();
            }
        }

        function confirmCode(e) {
            e.preventDefault();
            let inputCode = "";
            document.querySelectorAll('.code-inputs input').forEach(i => inputCode += i.value);
            
            // الكود الافتراضي للتجربة
            if(inputCode === "111111") {
                alert("تم التأكيد بنجاح! جاري الدخول..");
                window.location.href = "index.html";
            } else {
                alert("الكود غير صحيح! جرب الكود الافتراضي: 111111");
            }
        }

        // تأثير الماتريكس
        const canvas = document.getElementById('matrix'); const ctx = canvas.getContext('2d');
        function setSize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        setSize(); window.onresize = setSize;
        const drops = Array(Math.floor(canvas.width/20)).fill(1);
        function draw() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.1)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#0f0"; ctx.font = "15px monospace";
            drops.forEach((y, i) => {
                ctx.fillText(Math.floor(Math.random()*2), i*20, y*20);
                if(y*20 > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        } setInterval(draw, 35);
    </script>
</body>
</html>